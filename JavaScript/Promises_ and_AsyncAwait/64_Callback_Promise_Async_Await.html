<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            // getCheese in Promise resolve
            function getCheese() {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const cheese = "🧀";
                        // console.log(`Here is the Cheese ${cheese}`);
                        resolve(cheese);
                    }, 2000);
                });
            }
            // makeDough in Promise resolve
            function makeDough(cheese) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const dough = cheese + "🍩";
                        // console.log(`Here is the Dough ${dough}`);
                        // resolve(dough);
                        reject('Bad cheese')
                    }, 2000);
                });
            }
            // bakePizza in Promise resolve
            function bakePizza(dough) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const pizza = dough + "🍕";
                        // console.log(`Here is the Pizza ${pizza}`);
                        resolve(pizza);
                    }, 2000);
                });
            }
            
            // Callback Hell:-
            // getCheese((cheese) => {
            //     makeDough(cheese, (dough) => {
            //         bakePizza(dough, (pizza) => {
            //             console.log("got my pizza", pizza);
            //         });
            //     });
            // });
            
            // Async/Await:-
            async function orderPizza() {
                try{
                    const cheese = await getCheese();
                    console.log(`Here is the Cheese ${cheese}`);
                    
                    const dough = await makeDough(cheese);
                    console.log(`Here is the Dough ${dough}`);
                    
                    const pizza = await bakePizza(dough);
                    console.log(`Here is the Pizza ${pizza}`);    
                }catch(error) {
                    console.log(`async error occurred ${error}`);
                }
            }
            orderPizza(); // call Async function
            
            // then() catch() and finally():-
            // getCheese().then((cheese) => {
            //     console.log(`Here is the cheese ${cheese}`);
            //     return makeDough(cheese);
            // })
            // .then((dough) => {
            //     console.log(`Here is the dough ${dough}`);
            //     return bakePizza(dough);
            // })
            // .then((pizza) => {
            //     console.log(`Here is the pizza ${pizza}`);
            // })
            // .catch((data) => {
            //     console.log(`error occurred ${data}`);
            // })
            // .finally(() => {
            //     console.log(`Process ended`);
            // })

</script>
</body>
</html>
